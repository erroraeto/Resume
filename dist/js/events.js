let listDetail=document.querySelector(".list-details"),listItems=document.querySelectorAll(".list-details > *"),coverTitle=document.querySelector(".section__cover > .cover__title"),cover=document.querySelector(".section__cover");function onWindowResize(){var e=Array.from(listItems).find(e=>1==e.open);listDetail.style=`--comp-width: ${e.clientWidth-2*parseFloat(getComputedStyle(e).paddingInline)}px`}onWindowResize(),window.addEventListener("resize",onWindowResize),Array.from(listItems).forEach(e=>{e.addEventListener("click",e=>{1==e.target.closest("details").open&&e.preventDefault()})});let gridHex=document.querySelector(".grid-hexagon"),gridHexWrapp=document.querySelector(".grid-hexagon__wrapper"),gridHexItem=document.querySelectorAll(".grid-hexagon__item"),isDown=!(window.onload=()=>{coverTitle.style=`--half:${coverTitle.clientWidth/2}px`,gridHex.style.height=gridHex.style.width=gridHex.offsetParent.clientHeight+"px",gridHexWrapp.style.height=gridHexWrapp.style.width=gridHex.clientWidth/2+"px",gridHexWrapp.style.padding=gridHex.clientWidth/2+"px",gridHexItem.forEach(e=>{e.style.height=e.style.width=e.offsetHeight+"px",observer.observe(e)}),circleCenter={x:Math.abs(gridHex.clientWidth/2-gridHexWrapp.clientWidth/2),y:Math.abs(gridHex.clientHeight/2-gridHexWrapp.clientHeight/2)},circleRadius=Math.min(circleCenter.x,circleCenter.y),gridHex.scrollTo({left:circleCenter.x,top:circleCenter.y,behavior:"smooth"})}),startX,startY,circleRadius,circleCenter={},initialMouseX,initialMouseY,initialElementX,initialElementY;gridHexWrapp.addEventListener("mousedown",onClickGridHex),gridHexWrapp.addEventListener("touchstart",onClickGridHex);let lastTouch;function onClickGridHex(e){document.body.style="user-select: none";let t=Math.abs(gridHex.offsetLeft+gridHex.clientWidth/2-gridHex.scrollLeft),i=Math.abs(gridHex.offsetTop+gridHex.clientHeight/2-gridHex.scrollTop);isDown=!0,initialMouseY="touchstart"==e.type?(e.preventDefault(),initialMouseX=e.touches[0].pageX-gridHex.offsetLeft,e.touches[0].pageY-gridHex.offsetTop):(initialMouseX=e.pageX-gridHex.offsetLeft,e.pageY-gridHex.offsetTop),initialElementX=t-gridHex.offsetLeft,initialElementY=i-gridHex.offsetTop,window.addEventListener("mousemove",onMoveGridHex),window.addEventListener("touchmove",e=>onMoveGridHex(e)),["mouseup","mouseleave"].forEach(e=>window.addEventListener(e,onLeaveGridHex)),["touchend","touchcancel"].forEach(e=>window.addEventListener(e,onLeaveGridHex))}function onMoveGridHex(o){if(isDown){document.body.style="";let e,t;t="touchmove"==o.type?(e=o.touches[0].pageX-gridHex.offsetLeft,o.touches[0].pageY-gridHex.offsetTop):(o.preventDefault(),e=o.pageX-gridHex.offsetLeft,o.pageY-gridHex.offsetTop);var o=e-initialMouseX,n=t-initialMouseY;let i=initialElementX-o,r=initialElementY-n;Math.sqrt(Math.pow(i-circleCenter.x,2)+Math.pow(r-circleCenter.y,2))>circleRadius&&(o=Math.atan2(r-circleCenter.y,i-circleCenter.x),i=circleCenter.x+circleRadius*Math.cos(o),r=circleCenter.y+circleRadius*Math.sin(o)),gridHex.scrollTo(i,r)}}function onLeaveGridHex(e){isDown=!1,window.removeEventListener("mousemove",onMoveGridHex),window.removeEventListener("touchmove",e=>onMoveGridHex(e)),["mouseup","mouseleave"].forEach(e=>window.removeEventListener(e,onLeaveGridHex)),["touchend","touchcancel"].forEach(e=>window.removeEventListener(e,onLeaveGridHex)),gridHex.scrollTo({left:circleCenter.x,top:circleCenter.y,behavior:"smooth"})}function clamp(e,t,i){return Math.max(e,Math.min(t,i))}function bubble(){gridHexItem.forEach(e=>{let t=.5;var i=gridHex.scrollLeft+gridHex.clientWidth/2-gridHex.clientWidth/8,r=i+gridHex.clientWidth/8*2,o=e.offsetLeft+e.parentElement.offsetLeft+e.offsetWidth/2,n=gridHex.scrollTop+gridHex.clientHeight/2-gridHex.clientHeight/8,l=n+gridHex.clientHeight/8*2,d=e.offsetTop+e.parentElement.offsetTop+e.offsetHeight/2,i=(i<o&&o<r&&n<d&&d<l&&(t=1),e.getBoundingClientRect()),o=Math.abs(e.offsetWidth/2-i.width/2);let s=o/3,c=o/3,a=gridHex.scrollLeft+gridHex.clientWidth/2-e.offsetWidth/2-e.offsetLeft-e.parentElement.offsetLeft,f=gridHex.scrollTop+gridHex.clientHeight/2-e.offsetHeight/2-e.offsetTop-e.parentElement.offsetTop;o<Math.sqrt(Math.pow(a-s,2)+Math.pow(f-c,2))&&(r=Math.atan2(f-c,a-s),a=s+o*Math.cos(r),f=c+o*Math.sin(r)),e.style.transform=`translateX(${a}px) translateY(${f}px) scale(${t})`})}gridHex.addEventListener("scroll",bubble);let observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&.3<e.intersectionRatio?e.target.classList.add("hover"):e.target.classList.remove("hover")})},{root:gridHex,rootMargin:"-45%",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});